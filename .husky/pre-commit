#!/bin/sh

# Run ESLint to check code standards
npm run lint ||
(
    echo 'ğŸ˜¤ğŸ€ğŸ‘‹ğŸ˜¤ Linting failed! ğŸ˜¤ğŸ€ğŸ‘‹ğŸ˜¤ 
            ESLint check did not pass. Please make the required changes listed above, add them, and try to push again.'
    false; 
)

# Run Astro check for TypeScript errors
npm run astro check ||
(
    echo 'ğŸ˜³ğŸ˜¥âŒğŸ˜³ Astro check failed! ğŸ˜³ğŸ˜¥âŒğŸ˜³
            Please make the changes required above.'
    false;
)

# Run Prettier to ensure consistent formatting
npm run format

# Stage all changes, including newly created files
git add .

# If all checks pass, proceed with the push
echo 'âœ…âœ…âœ…âœ… Congrats! All checks passed. Pushing now... âœ…âœ…âœ…âœ…'