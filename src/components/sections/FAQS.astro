---
import SectionWrapper from "@/components/layout/SectionWrapper.astro";
import { cn } from "@/lib/utils";
import faqs from "@/config/faqs";
import FaqCategory from "../FAQ/FaqCategory.astro";
import { Image } from "astro:assets";
import { faqsSection } from "@/config/site";

interface Props {
  className?: string;
  id?: string;
}

const { className, id } = Astro.props;
---

<SectionWrapper
  id={id}
  className={cn("relative z-10 overflow-hidden py-20 md:py-32", className)}
>
  <!-- <FaqAssets /> -->
  <div class="absolute inset-0">
    <Image
      src="/flower-1.png"
      alt="Flower 1"
      width={1}
      height={1}
      class="faq-asset absolute left-1/2 top-72 w-16 animate-rotateSlow object-cover"
    />
    <Image
      src="/flower-2.png"
      alt="Flower 2"
      width={1}
      height={1}
      class="faq-asset absolute left-40 top-64 w-16 animate-float object-cover"
    />
    <Image
      src="/flower-3.png"
      alt="Flower 3"
      width={1}
      height={1}
      class="faq-asset absolute left-3/4 top-[500px] w-16 animate-float object-cover"
    />
    <Image
      src="/flower-4.png"
      alt="Flower 4"
      width={1}
      height={1}
      class="faq-asset absolute left-[60%] top-[825px] w-16 animate-rotateSlow object-cover"
    />
    <Image
      src="/butterfly.png"
      alt="Butterfly"
      width={1}
      height={1}
      class="faq-asset absolute left-1/3 top-[600px] w-16 -translate-x-1/2 animate-float object-cover"
    />
    <Image
      src="/butterfly-2.png"
      alt="Butterfly 2"
      width={1}
      height={1}
      class="faq-asset absolute left-[40%] top-[1000px] w-16 -translate-x-1/2 animate-float object-cover"
    />
  </div>

  <h2
    class="faq-heading heading-font mb-20 translate-y-10 text-center text-4xl font-black sm:text-5xl md:mb-24 lg:text-6xl xl:mb-28 xl:text-7xl"
  >
    {faqsSection.title}
  </h2>

  <div
    class="faq-categories mx-auto grid max-w-screen-2xl grid-cols-1 flex-col items-start justify-start gap-12 px-4 xl:grid-cols-2"
  >
    <div class="flex flex-col gap-12">
      {faqs.slice(0, 2).map((category) => <FaqCategory category={category} />)}
    </div>
    <div class="flex flex-col gap-12">
      {faqs.slice(2, 4).map((category) => <FaqCategory category={category} />)}
    </div>
  </div>
</SectionWrapper>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  gsap.from(".faq-heading", {
    y: 50,
    opacity: 0,
    duration: 1,
    ease: "power3.out",
    scrollTrigger: {
      trigger: ".faq-heading",
      start: "top 80%",
      end: "bottom top",
      toggleActions: "play none none reverse",
    },
  });
</script>
