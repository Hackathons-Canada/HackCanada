---
import SectionWrapper from "@/components/layout/SectionWrapper.astro";
import SectionHeading from "@/components/utility/SectionHeading.astro";
import { cn } from "@/lib/utils";

interface Props {
  className?: string;
  id?: string;
}

const { className, id } = Astro.props;

const jarStyles = "relative z-0 h-32 w-32 md:h-40 md:w-40";
const drippingStyles =
  "absolute -bottom-48 -z-10 h-[208px] w-[20px] rounded-t-full bg-orange-400";
const dropStyles = "absolute h-[10px] w-[5px] rounded bg-orange-400";
---

<SectionWrapper id={id} className={cn("relative py-20", className)}>
  <div class="container">
    <SectionHeading className="">Sponsor Us</SectionHeading>
    <div>
      Join us in this amazing ride to host the best hackathon across Canada.
      <br />
      Your support will be sweeter than the finest maple syrup
    </div>
  </div>

  <div class="relative flex w-full justify-center">
    <div
      class="jar-container relative flex h-fit w-full max-w-4xl justify-between bg-black"
    >
      {
        ["left", "right"].map((side) => (
          <div class={jarStyles}>
            <div
              class={`${drippingStyles} ${side === "left" ? "right-0 rounded-tr-full" : "left-0 rounded-tl-full"}`}
            >
              {[
                "-bottom-[5px] right-0",
                "-bottom-[4px] right-[5px]",
                "-bottom-[7px] right-[10px]",
                "-bottom-[5px] right-[15px]",
              ].map((position) => (
                <div class={`${dropStyles} ${position}`} />
              ))}
            </div>
            <img
              src={`/sponsors/design/jar${side}.svg`}
              alt="jar"
              width="100"
              height="100"
              style="width: 100%;"
            />
          </div>
        ))
      }
    </div>
    <div
      class="absolute left-1/2 top-[calc(6rem+208px)] h-80 w-full max-w-4xl -translate-x-1/2 rounded-[3px] rounded-t-3xl bg-orange-400 md:top-[calc(8rem+208px)]"
    >
      <div class="absolute -bottom-[110px] h-fit w-full">
        <div class="mx-auto w-full max-w-4xl">
          <svg
            id="morphingSvg"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 871.18 111.83"
          >
            <path
              fill="#fb923c"
              d="M0 0s-3 0 56 0c57 0 49 0 74 0 15 0 32 0 56 0s37 0 58 0c19 0 18 0 54 0 31 0 32 0 45 0 8 0 18 0 31 0 16 0 16 0 30 0S418 0 433 0s15 0 36 0c20 0-4 0 33 0 40 0 20 0 40 0 10 0 20 0 45 0 29 0 37 0 55 0 13 0 28 0 48 0 28 0 36 0 52 0 28 0 18 0 66 0C844 0 871 0 871 0"
            ></path>
          </svg>
        </div>
      </div>
    </div>
  </div>
  <div class="right-0 h-[600px] w-full bg-white"></div>
</SectionWrapper>

<script>
  import animateSVG from "@/lib/honeySpillMorph";

  document.addEventListener("DOMContentLoaded", () => animateSVG());
</script>
