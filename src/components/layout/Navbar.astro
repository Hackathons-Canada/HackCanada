---
import { cn } from "@/lib/utils";
import NavbarLogo from "./NavbarLogo.astro";
import NavLinks from "./NavLinks.astro";
import SocialLinks from "./SocialLinks.astro";
import MobileDropdown from "./MobileDropdown.astro";

const { className } = Astro.props;

declare global {
  interface Window {
    // eslint-disable-next-line
    handleScrollToSection: (section: string) => void;
  }
}
---

<header
  class={cn(
    className,
    "w-full px-6 h-20 mt-4 sm:mt-6 fixed top-0 left-0 right-0 z-50 navbar-animation opacity-0",
  )}
>
  <nav
    class="navbar-bg mx-auto flex max-w-6xl items-center justify-between rounded-[1.8em] border-[0.5px] border-t border-white bg-gradient-to-br from-white/50 to-white/30 px-4 pb-2 pt-2.5 text-center text-black backdrop-blur-md max-sm:flex-col max-sm:px-6 sm:px-6 md:px-6 lg:px-10"
  >
    <div class="flex w-full items-center gap-8 max-lg:justify-between">
      <NavbarLogo />
      <button
        id="dropdownToggle"
        class="relative flex h-8 w-8 items-center justify-center focus:outline-none sm:hidden"
      >
        <div
          class="menu-line absolute top-1/3 h-[3px] w-6 rounded-full bg-black transition duration-500 ease-in-out"
        >
        </div>
        <div
          class="menu-line absolute top-2/3 h-[3px] w-6 rounded-full bg-black transition duration-500 ease-in-out"
        >
        </div>
      </button>
      <NavLinks />
    </div>
    <SocialLinks />
    <MobileDropdown />
  </nav>
</header>

<script src="./navbar.ts"></script>

<style>
  .navbar-bg {
    transition: background-color 0.3s ease;
  }
</style>
